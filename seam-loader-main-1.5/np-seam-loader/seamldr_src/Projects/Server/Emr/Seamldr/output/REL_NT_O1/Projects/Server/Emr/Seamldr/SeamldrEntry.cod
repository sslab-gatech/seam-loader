; Listing generated by Microsoft (R) Optimizing Compiler Version 19.00.24245.0 

	TITLE	D:\work\np_seamldr\gnr\po\pr\public\firmware.security.tdx.np-seamldr\seamldr_src\Projects\Server\Emr\Seamldr\SeamldrEntry.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	_ChipsetAcmType
PUBLIC	_TxtErrorRegister
EDATA32	SEGMENT
_ChipsetAcmType DD 00H
_TxtErrorRegister DD 0fed20328H
EDATA32	ENDS
PUBLIC	_ProjectAcmEntryPoint
EXTRN	_SeamldrThunk64:PROC
EXTRN	_Init64bitComArea:PROC
EXTRN	_EstablishSeamldrPaging:PROC
EXTRN	@__security_check_cookie@4:PROC
EXTRN	_SeamldrCom64Data:BYTE
EXTRN	___security_cookie:DWORD
; Function compile flags: /Ogsp
; File d:\work\np_seamldr\gnr\po\pr\public\firmware.security.tdx.np-seamldr\seamldr_src\projects\server\emr\seamldr\seamldrentry.c
;	COMDAT _ProjectAcmEntryPoint
_TEXT	SEGMENT
_PtCtx$ = -44						; size = 40
__$ArrayPad$ = -4					; size = 4
_ProjectAcmEntryPoint PROC				; COMDAT

; 28   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 2c	 sub	 esp, 44			; 0000002cH
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax

; 29   :   PT_CTX PtCtx;
; 30   : 
; 31   :   Init64bitComArea();

  00010	e8 00 00 00 00	 call	 _Init64bitComArea

; 32   : 
; 33   :   EstablishSeamldrPaging(&SeamldrCom64Data, &PtCtx);

  00015	8d 45 d4	 lea	 eax, DWORD PTR _PtCtx$[ebp]
  00018	50		 push	 eax
  00019	68 00 00 00 00	 push	 OFFSET _SeamldrCom64Data
  0001e	e8 00 00 00 00	 call	 _EstablishSeamldrPaging

; 34   : 
; 35   :   SeamldrCom64Data.PtCtxPtr = (UINT64)(UINTPTR)&PtCtx;

  00023	83 25 62 00 00
	00 00		 and	 DWORD PTR _SeamldrCom64Data+98, 0
  0002a	8d 45 d4	 lea	 eax, DWORD PTR _PtCtx$[ebp]
  0002d	59		 pop	 ecx
  0002e	59		 pop	 ecx
  0002f	a3 5e 00 00 00	 mov	 DWORD PTR _SeamldrCom64Data+94, eax

; 36   : 
; 37   :   SeamldrThunk64();

  00034	e8 00 00 00 00	 call	 _SeamldrThunk64

; 38   : 
; 39   :   // No return to here
; 40   : }

  00039	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0003c	33 cd		 xor	 ecx, ebp
  0003e	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00043	8b e5		 mov	 esp, ebp
  00045	5d		 pop	 ebp
  00046	c3		 ret	 0
_ProjectAcmEntryPoint ENDP
_TEXT	ENDS
END

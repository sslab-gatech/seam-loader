; Listing generated by Microsoft (R) Optimizing Compiler Version 19.00.24245.0 

	TITLE	D:\work\np_seamldr\gnr\po\pr\public\firmware.security.tdx.np-seamldr\seamldr_src\Core\Common\portio.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	___InPort8
PUBLIC	___OutPort8
PUBLIC	___InPort16
PUBLIC	___OutPort16
PUBLIC	___InPort32
PUBLIC	___OutPort32
PUBLIC	_InPort8Tr
PUBLIC	_OutPort8Tr
PUBLIC	_InPort16Tr
PUBLIC	_OutPort16Tr
PUBLIC	_InPort32Tr
PUBLIC	_OutPort32Tr
PUBLIC	??_C@_0BE@PONDLMBL@?$CFs?$CD?$CFd?5IO?3?$CF04x?$DO?$CF02x?6?$AA@IMHBAIGO@ ;  ?? ::IMHBAIGO::`string'
PUBLIC	??_C@_0BE@GJEMKNDC@?$CFs?$CD?$CFd?5IO?3?$CF04x?$DM?$CF02x?6?$AA@IMHBAIGO@ ;  ?? ::IMHBAIGO::`string'
PUBLIC	??_C@_0BE@NLLIODMH@?$CFs?$CD?$CFd?5IO?3?$CF04x?$DO?$CF04x?6?$AA@IMHBAIGO@ ;  ?? ::IMHBAIGO::`string'
PUBLIC	??_C@_0BE@EMCHPCOO@?$CFs?$CD?$CFd?5IO?3?$CF04x?$DM?$CF04x?6?$AA@IMHBAIGO@ ;  ?? ::IMHBAIGO::`string'
PUBLIC	??_C@_0BE@JBGOFMHP@?$CFs?$CD?$CFd?5IO?3?$CF04x?$DO?$CF08x?6?$AA@IMHBAIGO@ ;  ?? ::IMHBAIGO::`string'
PUBLIC	??_C@_0BE@GPBENFG@?$CFs?$CD?$CFd?5IO?3?$CF04x?$DM?$CF08x?6?$AA@IMHBAIGO@ ;  ?? ::IMHBAIGO::`string'
EXTRN	_TraceFunction:PROC
;	COMDAT ??_C@_0BE@GPBENFG@?$CFs?$CD?$CFd?5IO?3?$CF04x?$DM?$CF08x?6?$AA@IMHBAIGO@
EDATA32	SEGMENT
??_C@_0BE@GPBENFG@?$CFs?$CD?$CFd?5IO?3?$CF04x?$DM?$CF08x?6?$AA@IMHBAIGO@ DB '%'
	DB	's#%d IO:%04x<%08x', 0aH, 00H		;  ?? ::IMHBAIGO::`string'
EDATA32	ENDS
;	COMDAT ??_C@_0BE@JBGOFMHP@?$CFs?$CD?$CFd?5IO?3?$CF04x?$DO?$CF08x?6?$AA@IMHBAIGO@
EDATA32	SEGMENT
??_C@_0BE@JBGOFMHP@?$CFs?$CD?$CFd?5IO?3?$CF04x?$DO?$CF08x?6?$AA@IMHBAIGO@ DB '%'
	DB	's#%d IO:%04x>%08x', 0aH, 00H		;  ?? ::IMHBAIGO::`string'
EDATA32	ENDS
;	COMDAT ??_C@_0BE@EMCHPCOO@?$CFs?$CD?$CFd?5IO?3?$CF04x?$DM?$CF04x?6?$AA@IMHBAIGO@
EDATA32	SEGMENT
??_C@_0BE@EMCHPCOO@?$CFs?$CD?$CFd?5IO?3?$CF04x?$DM?$CF04x?6?$AA@IMHBAIGO@ DB '%'
	DB	's#%d IO:%04x<%04x', 0aH, 00H		;  ?? ::IMHBAIGO::`string'
EDATA32	ENDS
;	COMDAT ??_C@_0BE@NLLIODMH@?$CFs?$CD?$CFd?5IO?3?$CF04x?$DO?$CF04x?6?$AA@IMHBAIGO@
EDATA32	SEGMENT
??_C@_0BE@NLLIODMH@?$CFs?$CD?$CFd?5IO?3?$CF04x?$DO?$CF04x?6?$AA@IMHBAIGO@ DB '%'
	DB	's#%d IO:%04x>%04x', 0aH, 00H		;  ?? ::IMHBAIGO::`string'
EDATA32	ENDS
;	COMDAT ??_C@_0BE@GJEMKNDC@?$CFs?$CD?$CFd?5IO?3?$CF04x?$DM?$CF02x?6?$AA@IMHBAIGO@
EDATA32	SEGMENT
??_C@_0BE@GJEMKNDC@?$CFs?$CD?$CFd?5IO?3?$CF04x?$DM?$CF02x?6?$AA@IMHBAIGO@ DB '%'
	DB	's#%d IO:%04x<%02x', 0aH, 00H		;  ?? ::IMHBAIGO::`string'
EDATA32	ENDS
;	COMDAT ??_C@_0BE@PONDLMBL@?$CFs?$CD?$CFd?5IO?3?$CF04x?$DO?$CF02x?6?$AA@IMHBAIGO@
EDATA32	SEGMENT
??_C@_0BE@PONDLMBL@?$CFs?$CD?$CFd?5IO?3?$CF04x?$DO?$CF02x?6?$AA@IMHBAIGO@ DB '%'
	DB	's#%d IO:%04x>%02x', 0aH, 00H		;  ?? ::IMHBAIGO::`string'
EDATA32	ENDS
; Function compile flags: /Ogsp
; File d:\work\np_seamldr\gnr\po\pr\public\firmware.security.tdx.np-seamldr\seamldr_src\core\common\portio.c
;	COMDAT _OutPort32Tr
_TEXT	SEGMENT
_addr$ = 8						; size = 2
_data$ = 12						; size = 4
_name$ = 16						; size = 4
_line$ = 20						; size = 4
_OutPort32Tr PROC					; COMDAT

; 201  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi

; 202  :   TRACEFUNCTION(TRACE_IO, "%s#%d IO:%04x<%08x\n", name, line, addr, data);

  00004	ff 75 0c	 push	 DWORD PTR _data$[ebp]
  00007	8b 75 08	 mov	 esi, DWORD PTR _addr$[ebp]
  0000a	0f b7 c6	 movzx	 eax, si
  0000d	50		 push	 eax
  0000e	ff 75 14	 push	 DWORD PTR _line$[ebp]
  00011	ff 75 10	 push	 DWORD PTR _name$[ebp]
  00014	68 00 00 00 00	 push	 OFFSET ??_C@_0BE@GPBENFG@?$CFs?$CD?$CFd?5IO?3?$CF04x?$DM?$CF08x?6?$AA@IMHBAIGO@
  00019	6a 04		 push	 4
  0001b	e8 00 00 00 00	 call	 _TraceFunction

; 203  :   __OutPort32(addr, data);

  00020	ff 75 0c	 push	 DWORD PTR _data$[ebp]
  00023	56		 push	 esi
  00024	e8 00 00 00 00	 call	 ___OutPort32
  00029	83 c4 20	 add	 esp, 32			; 00000020H
  0002c	5e		 pop	 esi

; 204  : }

  0002d	5d		 pop	 ebp
  0002e	c3		 ret	 0
_OutPort32Tr ENDP
_TEXT	ENDS
; Function compile flags: /Ogsp
; File d:\work\np_seamldr\gnr\po\pr\public\firmware.security.tdx.np-seamldr\seamldr_src\core\common\portio.c
;	COMDAT _InPort32Tr
_TEXT	SEGMENT
_addr$ = 8						; size = 2
_name$ = 12						; size = 4
_line$ = 16						; size = 4
_InPort32Tr PROC					; COMDAT

; 192  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi

; 193  :   UINT32 data = __InPort32(addr);

  00004	8b 75 08	 mov	 esi, DWORD PTR _addr$[ebp]
  00007	57		 push	 edi
  00008	56		 push	 esi
  00009	e8 00 00 00 00	 call	 ___InPort32
  0000e	8b f8		 mov	 edi, eax

; 194  : 
; 195  :   TRACEFUNCTION(TRACE_IO, "%s#%d IO:%04x>%08x\n", name, line, addr, data);

  00010	0f b7 ce	 movzx	 ecx, si
  00013	57		 push	 edi
  00014	51		 push	 ecx
  00015	ff 75 10	 push	 DWORD PTR _line$[ebp]
  00018	ff 75 0c	 push	 DWORD PTR _name$[ebp]
  0001b	68 00 00 00 00	 push	 OFFSET ??_C@_0BE@JBGOFMHP@?$CFs?$CD?$CFd?5IO?3?$CF04x?$DO?$CF08x?6?$AA@IMHBAIGO@
  00020	6a 04		 push	 4
  00022	e8 00 00 00 00	 call	 _TraceFunction
  00027	83 c4 1c	 add	 esp, 28			; 0000001cH

; 196  :   return data;

  0002a	8b c7		 mov	 eax, edi
  0002c	5f		 pop	 edi
  0002d	5e		 pop	 esi

; 197  : }

  0002e	5d		 pop	 ebp
  0002f	c3		 ret	 0
_InPort32Tr ENDP
_TEXT	ENDS
; Function compile flags: /Ogsp
; File d:\work\np_seamldr\gnr\po\pr\public\firmware.security.tdx.np-seamldr\seamldr_src\core\common\portio.c
;	COMDAT _OutPort16Tr
_TEXT	SEGMENT
_addr$ = 8						; size = 2
_data$ = 12						; size = 2
_name$ = 16						; size = 4
_line$ = 20						; size = 4
_OutPort16Tr PROC					; COMDAT

; 185  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi

; 186  :   TRACEFUNCTION(TRACE_IO, "%s#%d IO:%04x<%04x\n", name, line, addr, data);

  00004	8b 75 08	 mov	 esi, DWORD PTR _addr$[ebp]
  00007	57		 push	 edi
  00008	8b 7d 0c	 mov	 edi, DWORD PTR _data$[ebp]
  0000b	0f b7 c7	 movzx	 eax, di
  0000e	50		 push	 eax
  0000f	0f b7 c6	 movzx	 eax, si
  00012	50		 push	 eax
  00013	ff 75 14	 push	 DWORD PTR _line$[ebp]
  00016	ff 75 10	 push	 DWORD PTR _name$[ebp]
  00019	68 00 00 00 00	 push	 OFFSET ??_C@_0BE@EMCHPCOO@?$CFs?$CD?$CFd?5IO?3?$CF04x?$DM?$CF04x?6?$AA@IMHBAIGO@
  0001e	6a 04		 push	 4
  00020	e8 00 00 00 00	 call	 _TraceFunction

; 187  :   __OutPort16(addr, data);

  00025	57		 push	 edi
  00026	56		 push	 esi
  00027	e8 00 00 00 00	 call	 ___OutPort16
  0002c	83 c4 20	 add	 esp, 32			; 00000020H
  0002f	5f		 pop	 edi
  00030	5e		 pop	 esi

; 188  : }

  00031	5d		 pop	 ebp
  00032	c3		 ret	 0
_OutPort16Tr ENDP
_TEXT	ENDS
; Function compile flags: /Ogsp
; File d:\work\np_seamldr\gnr\po\pr\public\firmware.security.tdx.np-seamldr\seamldr_src\core\common\portio.c
;	COMDAT _InPort16Tr
_TEXT	SEGMENT
_addr$ = 8						; size = 2
_name$ = 12						; size = 4
_line$ = 16						; size = 4
_InPort16Tr PROC					; COMDAT

; 176  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi

; 177  :   UINT16 data = __InPort16(addr);

  00004	8b 75 08	 mov	 esi, DWORD PTR _addr$[ebp]
  00007	57		 push	 edi
  00008	56		 push	 esi
  00009	e8 00 00 00 00	 call	 ___InPort16
  0000e	0f b7 f8	 movzx	 edi, ax

; 178  : 
; 179  :   TRACEFUNCTION(TRACE_IO, "%s#%d IO:%04x>%04x\n", name, line, addr, data);

  00011	57		 push	 edi
  00012	0f b7 ce	 movzx	 ecx, si
  00015	51		 push	 ecx
  00016	ff 75 10	 push	 DWORD PTR _line$[ebp]
  00019	ff 75 0c	 push	 DWORD PTR _name$[ebp]
  0001c	68 00 00 00 00	 push	 OFFSET ??_C@_0BE@NLLIODMH@?$CFs?$CD?$CFd?5IO?3?$CF04x?$DO?$CF04x?6?$AA@IMHBAIGO@
  00021	6a 04		 push	 4
  00023	e8 00 00 00 00	 call	 _TraceFunction
  00028	83 c4 1c	 add	 esp, 28			; 0000001cH

; 180  :   return data;

  0002b	66 8b c7	 mov	 ax, di
  0002e	5f		 pop	 edi
  0002f	5e		 pop	 esi

; 181  : }

  00030	5d		 pop	 ebp
  00031	c3		 ret	 0
_InPort16Tr ENDP
_TEXT	ENDS
; Function compile flags: /Ogsp
; File d:\work\np_seamldr\gnr\po\pr\public\firmware.security.tdx.np-seamldr\seamldr_src\core\common\portio.c
;	COMDAT _OutPort8Tr
_TEXT	SEGMENT
_addr$ = 8						; size = 2
_data$ = 12						; size = 1
_name$ = 16						; size = 4
_line$ = 20						; size = 4
_OutPort8Tr PROC					; COMDAT

; 169  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	53		 push	 ebx

; 170  :   TRACEFUNCTION(TRACE_IO, "%s#%d IO:%04x<%02x\n", name, line, addr, data);

  00004	8b 5d 0c	 mov	 ebx, DWORD PTR _data$[ebp]
  00007	56		 push	 esi
  00008	8b 75 08	 mov	 esi, DWORD PTR _addr$[ebp]
  0000b	0f b6 c3	 movzx	 eax, bl
  0000e	50		 push	 eax
  0000f	0f b7 c6	 movzx	 eax, si
  00012	50		 push	 eax
  00013	ff 75 14	 push	 DWORD PTR _line$[ebp]
  00016	ff 75 10	 push	 DWORD PTR _name$[ebp]
  00019	68 00 00 00 00	 push	 OFFSET ??_C@_0BE@GJEMKNDC@?$CFs?$CD?$CFd?5IO?3?$CF04x?$DM?$CF02x?6?$AA@IMHBAIGO@
  0001e	6a 04		 push	 4
  00020	e8 00 00 00 00	 call	 _TraceFunction

; 171  :   __OutPort8(addr, data);

  00025	53		 push	 ebx
  00026	56		 push	 esi
  00027	e8 00 00 00 00	 call	 ___OutPort8
  0002c	83 c4 20	 add	 esp, 32			; 00000020H
  0002f	5e		 pop	 esi
  00030	5b		 pop	 ebx

; 172  : }

  00031	5d		 pop	 ebp
  00032	c3		 ret	 0
_OutPort8Tr ENDP
_TEXT	ENDS
; Function compile flags: /Ogsp
; File d:\work\np_seamldr\gnr\po\pr\public\firmware.security.tdx.np-seamldr\seamldr_src\core\common\portio.c
;	COMDAT _InPort8Tr
_TEXT	SEGMENT
_addr$ = 8						; size = 2
_name$ = 12						; size = 4
_line$ = 16						; size = 4
_InPort8Tr PROC						; COMDAT

; 160  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	53		 push	 ebx
  00004	56		 push	 esi

; 161  :   UINT8 data = __InPort8(addr);

  00005	8b 75 08	 mov	 esi, DWORD PTR _addr$[ebp]
  00008	56		 push	 esi
  00009	e8 00 00 00 00	 call	 ___InPort8
  0000e	8a d8		 mov	 bl, al

; 162  : 
; 163  :   TRACEFUNCTION(TRACE_IO, "%s#%d IO:%04x>%02x\n", name, line, addr, data);

  00010	0f b6 cb	 movzx	 ecx, bl
  00013	51		 push	 ecx
  00014	0f b7 ce	 movzx	 ecx, si
  00017	51		 push	 ecx
  00018	ff 75 10	 push	 DWORD PTR _line$[ebp]
  0001b	ff 75 0c	 push	 DWORD PTR _name$[ebp]
  0001e	68 00 00 00 00	 push	 OFFSET ??_C@_0BE@PONDLMBL@?$CFs?$CD?$CFd?5IO?3?$CF04x?$DO?$CF02x?6?$AA@IMHBAIGO@
  00023	6a 04		 push	 4
  00025	e8 00 00 00 00	 call	 _TraceFunction
  0002a	83 c4 1c	 add	 esp, 28			; 0000001cH

; 164  :   return data;

  0002d	8a c3		 mov	 al, bl
  0002f	5e		 pop	 esi
  00030	5b		 pop	 ebx

; 165  : }

  00031	5d		 pop	 ebp
  00032	c3		 ret	 0
_InPort8Tr ENDP
_TEXT	ENDS
; Function compile flags: /Ogsp
; File d:\work\np_seamldr\gnr\po\pr\public\firmware.security.tdx.np-seamldr\seamldr_src\core\common\portio.c
;	COMDAT ___OutPort32
_TEXT	SEGMENT
_ioAddress$ = 8						; size = 2
_data$ = 12						; size = 4
___OutPort32 PROC					; COMDAT

; 148  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 149  :   _asm {
; 150  :     mov dx, ioAddress

  00003	66 8b 55 08	 mov	 dx, WORD PTR _ioAddress$[ebp]

; 151  :     mov eax, data

  00007	8b 45 0c	 mov	 eax, DWORD PTR _data$[ebp]

; 152  :     out dx, eax

  0000a	ef		 out	 dx, eax

; 153  :   }
; 154  : }

  0000b	5d		 pop	 ebp
  0000c	c3		 ret	 0
___OutPort32 ENDP
_TEXT	ENDS
; Function compile flags: /Ogsp
; File d:\work\np_seamldr\gnr\po\pr\public\firmware.security.tdx.np-seamldr\seamldr_src\core\common\portio.c
;	COMDAT ___InPort32
_TEXT	SEGMENT
_eaxReg$ = -4						; size = 4
_ioAddress$ = 8						; size = 2
___InPort32 PROC					; COMDAT

; 81   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx

; 82   :   UINT32 eaxReg;
; 83   : 
; 84   :   _asm {
; 85   :     mov dx, ioAddress

  00004	66 8b 55 08	 mov	 dx, WORD PTR _ioAddress$[ebp]

; 86   :     in eax, dx

  00008	ed		 in	 eax, dx

; 87   :     mov eaxReg, eax

  00009	89 45 fc	 mov	 DWORD PTR _eaxReg$[ebp], eax

; 88   :   }
; 89   : 
; 90   :   return eaxReg;

  0000c	8b 45 fc	 mov	 eax, DWORD PTR _eaxReg$[ebp]

; 91   : }

  0000f	8b e5		 mov	 esp, ebp
  00011	5d		 pop	 ebp
  00012	c3		 ret	 0
___InPort32 ENDP
_TEXT	ENDS
; Function compile flags: /Ogsp
; File d:\work\np_seamldr\gnr\po\pr\public\firmware.security.tdx.np-seamldr\seamldr_src\core\common\portio.c
;	COMDAT ___OutPort16
_TEXT	SEGMENT
_ioAddress$ = 8						; size = 2
_data$ = 12						; size = 2
___OutPort16 PROC					; COMDAT

; 127  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 128  :   _asm {
; 129  :     mov dx, ioAddress

  00003	66 8b 55 08	 mov	 dx, WORD PTR _ioAddress$[ebp]

; 130  :     mov ax, data

  00007	66 8b 45 0c	 mov	 ax, WORD PTR _data$[ebp]

; 131  :     out dx, ax

  0000b	66 ef		 out	 dx, ax

; 132  :   }
; 133  : }

  0000d	5d		 pop	 ebp
  0000e	c3		 ret	 0
___OutPort16 ENDP
_TEXT	ENDS
; Function compile flags: /Ogsp
; File d:\work\np_seamldr\gnr\po\pr\public\firmware.security.tdx.np-seamldr\seamldr_src\core\common\portio.c
;	COMDAT ___InPort16
_TEXT	SEGMENT
_axReg$ = -4						; size = 2
_ioAddress$ = 8						; size = 2
___InPort16 PROC					; COMDAT

; 56   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx

; 57   :   UINT16 axReg;
; 58   : 
; 59   :   _asm {
; 60   :     mov dx, ioAddress

  00004	66 8b 55 08	 mov	 dx, WORD PTR _ioAddress$[ebp]

; 61   :     in ax, dx

  00008	66 ed		 in	 ax, dx

; 62   :     mov axReg, ax

  0000a	66 89 45 fc	 mov	 WORD PTR _axReg$[ebp], ax

; 63   :   }
; 64   : 
; 65   :   return axReg;

  0000e	66 8b 45 fc	 mov	 ax, WORD PTR _axReg$[ebp]

; 66   : }

  00012	8b e5		 mov	 esp, ebp
  00014	5d		 pop	 ebp
  00015	c3		 ret	 0
___InPort16 ENDP
_TEXT	ENDS
; Function compile flags: /Ogsp
; File d:\work\np_seamldr\gnr\po\pr\public\firmware.security.tdx.np-seamldr\seamldr_src\core\common\portio.c
;	COMDAT ___OutPort8
_TEXT	SEGMENT
_ioAddress$ = 8						; size = 2
_data$ = 12						; size = 1
___OutPort8 PROC					; COMDAT

; 106  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 107  :   _asm {
; 108  :     mov dx, ioAddress

  00003	66 8b 55 08	 mov	 dx, WORD PTR _ioAddress$[ebp]

; 109  :     mov al, data

  00007	8a 45 0c	 mov	 al, BYTE PTR _data$[ebp]

; 110  :     out dx, al

  0000a	ee		 out	 dx, al

; 111  :   }
; 112  : }

  0000b	5d		 pop	 ebp
  0000c	c3		 ret	 0
___OutPort8 ENDP
_TEXT	ENDS
; Function compile flags: /Ogsp
; File d:\work\np_seamldr\gnr\po\pr\public\firmware.security.tdx.np-seamldr\seamldr_src\core\common\portio.c
;	COMDAT ___InPort8
_TEXT	SEGMENT
_alReg$ = -1						; size = 1
_ioAddress$ = 8						; size = 2
___InPort8 PROC						; COMDAT

; 32   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx

; 33   :   UINT8 alReg;
; 34   : 
; 35   :   _asm {
; 36   :     mov dx, ioAddress

  00004	66 8b 55 08	 mov	 dx, WORD PTR _ioAddress$[ebp]

; 37   :     in al, dx

  00008	ec		 in	 al, dx

; 38   :     mov alReg, al

  00009	88 45 ff	 mov	 BYTE PTR _alReg$[ebp], al

; 39   :   }
; 40   : 
; 41   :   return alReg;

  0000c	8a 45 ff	 mov	 al, BYTE PTR _alReg$[ebp]

; 42   : }

  0000f	8b e5		 mov	 esp, ebp
  00011	5d		 pop	 ebp
  00012	c3		 ret	 0
___InPort8 ENDP
_TEXT	ENDS
END
